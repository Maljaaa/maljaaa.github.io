---
emoji: 💩
title: 4장 주석
date: '2024-09-02 00:00:00'
author: 신승민
tags: blog gatsby 
categories: Clean_Code
---

## Intro
깔끔하게 형식을 맞춰 코드를 짜야한다.  
간단한 규칙을 정하고, 그 규칙을 착실히 따라야 한다.  
팀으로 일한다면 팀 규칙을 따라야 한다.  
필요하다면 도구도 활용하자.  

### 형식을 맞추는 목적
오늘 구현한 코드의 가독성은 앞으로 바뀔 코드의 품질에 지대한 영향을 미친다.  
맨 처음 잡아놓ㅇ느 구현 스타일과 가독성 수준은 유지보수 용이성과 확장성에 계속 영향을 미친다.  
원래 코드는 사라질지라도 개발자의 스타일과 규율은 사라지지 않는다.  

### 적절한 행 길이를 유지하라
소스 코드는 얼마나 길어야 적당할까? 라는 질문에 이렇게 답한다.  
500줄을 넘지 않고 대부분 200줄 정도인 파일로도 커다란 시스템을 구축할 수 있다.  
#### 신문 기사처럼 작성하라
이름은 간단하면서도 설명이 가능하게 짓는다.  
첫 부분은 고차원 개념과 알고리즘을 설명한다.  
아래로 내려갈수록 세세하게 묘사한다.  
마지막에는 가장 저차원 함수와 세부 내역이 나온다.  

#### 개념은 빈 행으로 분리하라 
생각 사이는 빈 행을 넣어 분리하자.  
행 묶음이 분리되어 보이면 되겠다.  

#### 세로 밀집도
서로 밀접한 코드 행은 세로로 가까이 놓여야 한다.  
굳이 떨어뜨려 놓을 필요가 없다.  

#### 수직 거리
이 조각 저 조각이 어디에 있는지 찾고 기억하느라 시간과 노력을 소모한다.  
그러므로 서로 밀접한 개념은 한 파일에 속해야 마땅하다.  
이게 바로 `protected`변수를 피해야 하는 이유 중 하나다.  

### 변수 선언
* 변수는 사용하는 위치에 최대한 가까이 선언한다.  
> 이렇게 되면 for문 안에 변수를 선언하게 되는데,   
> 그럼 인스턴스를 계속 생성해서 성능이 저하되지 않을까?

### 인스턴스 변수
* 인스턴스 변수는 클래스 맨 처음에 선언한다.  

자바에서는 보통 클래스 맨 처음에 인스턴스 변수를 선언한다.  
> 위에서 한 고민 해결:)

### 종속 함수
* 한 함수가 다른 함수를 호출한다면 두 함수는 세로로 가까이 배치한다.  
* 또한 가능하다면 **호출하는 함수**를 **호출되는 함수**보다 먼저 배치한다.  

상수를 알아야 마땅한 함수에서 실제로 사용하는 함수로 상수를 넘겨주는 방법이 더 좋다.  

### 개념적 유사성
* 친화도가 높을수록 코드를 **가까이 배치**한다.  
> 친화도가 높은 요인 예시 : 한 함수가 다른 함수를 호출해 생기는 직접적인 종속성, 변수와 그 변수를 사용하는 함수, 비슷한 동작을 수행하는 일군의 함수

#### 세로 순서
가장 중요한 개념을 가장 먼저 표현한다.  
세세한 사항은 가장 마지막에 표현한다.  

### 가로 형식 맞추기
한 행은 가로로 얼마나 길어야 적당할까? 라는 질문에 이렇게 답한다.  
10자 미만은 30%, 20자에서 60자 사이는 40%, 80자 이후부터 행 수는 급격하게 감소한다.  
```
"프로그래머는 명백하게 짧은 행을 선호한다."
```
개인적으로 저자는 120자 정도로 행 길이를 제한한다.  

#### 가로 공백과 밀집도  
* 함수와 인수 사이에 공백을 두지 않는다.  
* 연산자 우선순위에 따라 공백을 정한다.(곱셈, 승수 -> 공백 x / 덧셈, 뺄셈 -> 공백 O)

#### 가로 정렬
```java
private Socket socket;
private long   requestparsingDeadline;
```
이런 정렬은 유용하지 못하다.  
  
정렬하지 않으면 오히려 중대한 결함을 찾기 쉽다.  
정렬이 필요할 정도로 목록이 길다면 문제는 목록 길이지 정렬 부족이 아니다.  
* 선언부가 길다면 클래스를 쪼개야 한다.  

#### 들여쓰기
* 들여쓰기한 파일은 구조가 한눈에 들어온다.  
* 변수, 생성자 함수, 접근자 함수, 메서드가 금방 보인다.  

### 들여쓰기 무시하기
간단한 if문, 짧은 while문, 짧은 함수에서 들여쓰기 규칙을 무시하고픈 유혹이 생긴다.  
> 난 안 생긴다...

#### 가짜 범위
빈 while문이나 for문을 피하지 못할 때는 빈 블록을 오라볼 들여쓰고 괄호로 감싼다.  
* 세미콜론(;)은 새 행에다 제대로 들여써서 넣어준다. 
```java
while (dis.read(buf, 0, readbufferSize) != -1)
;
```

### 팀 규칙
읽기 쉬운 문서를 만들기 위해서는 스타일이 일관적이고 매끄러워야 한다.  
독자에게 신뢰감을 주어서 복잡하지 않게 하자.  

### 밥 아저씨의 형식 규칙
목록 5-6에 잘 드러난다.  
개인적으로 무척이나 아름답다.  

```toc

```